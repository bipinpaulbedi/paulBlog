<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="generator" content="Gatsby 2.0.61"/><title data-react-helmet="true">phoenix/elixir - concurrency actor model with &#x27;let it crash&#x27; philosophy | paul blog</title><meta data-react-helmet="true" name="description" content="A concurrent program has multiple logical threads of control. These threads may or may not run in parallel. A parallel program potentially…"/><link rel="alternate" type="application/rss+xml" href="/rss.xml"/><style data-styled="lguLPz gTOYVM gKoJoW hwfDng cpqDRv gwifdm" data-styled-version="4.1.2">
/* sc-component-id: HeaderNav__StyledHeaderNav-wnyhma-0 */
.gTOYVM{float:right;} .gTOYVM li{float:left;list-style:none;padding:1rem 0.5rem;} @media (min-width:46.0625em){.gTOYVM{font-size:1.5rem;}}
/* sc-component-id: Header__StyledHeader-sc-9eu2yh-0 */
.lguLPz{padding:1rem;font-weight:700;}
/* sc-component-id: Footer__StyledFooter-sc-1xqajj9-0 */
.gwifdm{padding:1rem;font-weight:700;text-align:right;}
/* sc-component-id: blog-post__StyledBlog-sc-1g2ojw6-0 */
.gKoJoW{margin:0 auto;padding:0rem 1rem;} .gKoJoW div{text-align:justify;} .gKoJoW ul.navigator{list-style-type:none;text-align:center;} @media (min-width:46.0625em){.gKoJoW{width:75%;}} @media (min-width:64.0625em){.gKoJoW{width:50%;}}
/* sc-component-id: blog-post__StyleBlogSubHeading-sc-1g2ojw6-1 */
.hwfDng{color:#03396c;}
/* sc-component-id: blog-post__StyleBlogDate-sc-1g2ojw6-2 */
.cpqDRv{color:#005b96;font-style:italic;text-align:right;}</style><link rel="manifest" href="/manifest.webmanifest"/><meta name="theme-color" content="#663399"/><style id="typography.js">html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block}audio:not([controls]){display:none;height:0}progress{vertical-align:baseline}[hidden],template{display:none}a{background-color:transparent;-webkit-text-decoration-skip:objects}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}svg:not(:root){overflow:hidden}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}button,input,optgroup,select,textarea{font:inherit;margin:0}optgroup{font-weight:700}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{font:100%/1.75 'Merriweather','Georgia',serif;box-sizing:border-box;overflow-y:scroll;}*{box-sizing:inherit;}*:before{box-sizing:inherit;}*:after{box-sizing:inherit;}body{color:#011f4b;font-family:'Merriweather','Georgia',serif;font-weight:400;word-wrap:break-word;font-kerning:normal;-moz-font-feature-settings:"kern", "liga", "clig", "calt";-ms-font-feature-settings:"kern", "liga", "clig", "calt";-webkit-font-feature-settings:"kern", "liga", "clig", "calt";font-feature-settings:"kern", "liga", "clig", "calt";}img{max-width:100%;margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}h1{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;color:inherit;font-family:Montserrat,sans-serif;font-weight:900;text-rendering:optimizeLegibility;font-size:2.5rem;line-height:1.1;}h2{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;color:inherit;font-family:'Merriweather','Georgia',serif;font-weight:900;text-rendering:optimizeLegibility;font-size:1.73286rem;line-height:1.1;}h3{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;color:inherit;font-family:'Merriweather','Georgia',serif;font-weight:900;text-rendering:optimizeLegibility;font-size:1.4427rem;line-height:1.1;}h4{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;color:inherit;font-family:'Merriweather','Georgia',serif;font-weight:900;text-rendering:optimizeLegibility;font-size:1rem;line-height:1.1;letter-spacing:0.140625em;text-transform:uppercase;}h5{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;color:inherit;font-family:'Merriweather','Georgia',serif;font-weight:900;text-rendering:optimizeLegibility;font-size:0.83255rem;line-height:1.1;}h6{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;color:inherit;font-family:'Merriweather','Georgia',serif;font-weight:900;text-rendering:optimizeLegibility;font-size:0.75966rem;line-height:1.1;font-style:italic;}hgroup{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}ul{margin-left:1.75rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;list-style-position:outside;list-style-image:none;list-style:disc;}ol{margin-left:1.75rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;list-style-position:outside;list-style-image:none;}dl{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}dd{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}p{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}figure{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}pre{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;font-size:0.85rem;line-height:1.75rem;}table{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;font-size:1rem;line-height:1.75rem;border-collapse:collapse;width:100%;}fieldset{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}blockquote{margin-left:-1.75rem;margin-right:1.75rem;margin-top:0;padding-bottom:0;padding-left:1.42188rem;padding-right:0;padding-top:0;margin-bottom:1.75rem;font-size:1.20112rem;line-height:1.75rem;color:#03396c;font-style:italic;border-left:0.32813rem solid hsla(0,0%,0%,0.9);}form{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}noscript{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}iframe{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}hr{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:calc(1.75rem - 1px);background:hsla(0,0%,0%,0.2);border:none;height:1px;}address{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}b{font-weight:700;}strong{font-weight:700;}dt{font-weight:700;}th{font-weight:700;}li{margin-bottom:calc(1.75rem / 2);}ol li{padding-left:0;}ul li{padding-left:0;}li > ol{margin-left:1.75rem;margin-bottom:calc(1.75rem / 2);margin-top:calc(1.75rem / 2);}li > ul{margin-left:1.75rem;margin-bottom:calc(1.75rem / 2);margin-top:calc(1.75rem / 2);}blockquote *:last-child{margin-bottom:0;}li *:last-child{margin-bottom:0;}p *:last-child{margin-bottom:0;}li > p{margin-bottom:calc(1.75rem / 2);}code{font-size:0.85rem;line-height:1.75rem;color:#03396c;}kbd{font-size:0.85rem;line-height:1.75rem;}samp{font-size:0.85rem;line-height:1.75rem;}abbr{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}acronym{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}abbr[title]{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;text-decoration:none;}thead{text-align:left;}td,th{text-align:left;border-bottom:1px solid hsla(0,0%,0%,0.12);font-feature-settings:"tnum";-moz-font-feature-settings:"tnum";-ms-font-feature-settings:"tnum";-webkit-font-feature-settings:"tnum";padding-left:1.16667rem;padding-right:1.16667rem;padding-top:0.875rem;padding-bottom:calc(0.875rem - 1px);}th:first-child,td:first-child{padding-left:0;}th:last-child,td:last-child{padding-right:0;}blockquote > :last-child{margin-bottom:0;}blockquote cite{font-size:1rem;line-height:1.75rem;color:#011f4b;font-weight:400;}blockquote cite:before{content:"— ";}ul,ol{margin-left:0;}@media only screen and (max-width:480px){ul,ol{margin-left:1.75rem;}blockquote{margin-left:-1.3125rem;margin-right:0;padding-left:0.98438rem;}}h1,h2,h3,h4,h5,h6{margin-top:3.5rem;}a{box-shadow:0 1px 0 0 currentColor;color:#005b96;text-decoration:none;}a:hover,a:active{box-shadow:none;}mark,ins{background:#007acc;color:white;padding:0.10938rem 0.21875rem;text-decoration:none;}</style><link href="//fonts.googleapis.com/css?family=Montserrat:700|Merriweather:400,400i,700,700i,900,900i" rel="stylesheet" type="text/css"/><link as="script" rel="preload" href="/webpack-runtime-423657ad8733370bcab9.js"/><link as="script" rel="preload" href="/app-1e10a623b68495fd4d6a.js"/><link as="script" rel="preload" href="/0-899b13e0b68fbba7a857.js"/><link as="script" rel="preload" href="/component---src-templates-blog-post-js-94cd070032cc60a4bb40.js"/><link rel="preload" href="/static/d/956/path---2019-01-04-elixir-concurrency-models-03-a-8e4-nkTVWZIdBqpFi7twprL7ZLh0QGo.json" as="fetch" crossOrigin="use-credentials"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" role="group"><div class="Header__StyledHeader-sc-9eu2yh-0 lguLPz"><a href="/" aria-label="Home" alt="home"><svg height="60" width="60" id="svg" version="1.1" viewBox="0 0 400 400"><g id="svgg"><path id="path0" d="M226.400 24.393 C 210.265 26.864,191.602 35.725,176.505 48.086 C 175.622 48.808,174.114 50.030,173.154 50.800 C 165.987 56.548,154.251 68.775,147.064 77.981 C 141.288 85.380,136.540 92.037,132.073 99.000 C 127.939 105.444,122.000 115.116,122.000 115.404 C 122.000 115.477,121.142 117.036,120.093 118.868 C 119.044 120.701,117.739 123.073,117.193 124.141 C 116.647 125.208,115.992 126.166,115.739 126.269 C 114.713 126.685,102.513 123.339,93.800 120.251 C 86.446 117.645,80.539 116.419,75.286 116.407 C 70.044 116.396,68.746 117.753,68.758 123.234 C 68.777 131.668,76.783 139.426,94.552 148.230 C 103.411 152.620,103.177 152.406,102.005 155.019 C 101.516 156.109,100.886 157.540,100.604 158.200 C 100.323 158.860,99.712 160.253,99.247 161.296 C 98.781 162.338,98.400 163.279,98.400 163.386 C 98.400 163.493,97.860 164.759,97.200 166.200 C 96.540 167.641,96.000 168.942,96.000 169.090 C 96.000 169.238,95.074 171.709,93.942 174.580 C 90.939 182.196,87.140 193.104,85.228 199.600 C 84.743 201.250,84.196 203.050,84.014 203.600 C 79.598 216.937,74.441 242.556,72.419 261.200 C 70.908 275.137,70.564 296.694,71.727 304.600 C 72.951 312.927,73.180 314.209,74.013 317.400 C 79.560 338.649,91.208 353.583,110.829 364.601 C 113.284 365.980,114.489 366.569,119.000 368.595 C 143.459 379.581,184.324 379.583,207.895 368.601 C 222.319 361.880,234.614 349.737,241.910 335.005 C 242.892 333.022,243.761 331.328,243.841 331.239 C 243.922 331.151,245.039 331.727,246.323 332.520 C 260.304 341.149,284.611 343.107,298.000 336.682 C 313.204 329.386,328.439 307.815,331.559 289.167 C 333.386 278.250,325.809 263.200,318.486 263.200 C 314.614 263.200,312.978 264.798,305.379 276.000 C 289.656 299.178,280.166 306.241,269.663 302.583 C 262.606 300.126,257.418 292.504,253.200 278.400 C 252.707 276.750,252.163 274.950,251.992 274.400 C 251.160 271.727,248.779 261.931,247.763 257.000 C 247.400 255.240,246.963 253.170,246.792 252.400 C 246.621 251.630,246.286 250.046,246.047 248.881 C 239.565 217.203,225.798 199.731,209.419 202.397 C 197.391 204.354,180.820 224.524,174.367 245.060 L 173.469 247.919 176.434 251.271 C 178.065 253.115,180.238 255.608,181.261 256.812 C 182.285 258.015,184.957 261.160,187.199 263.800 C 196.823 275.134,199.301 280.922,199.866 293.400 C 201.011 318.639,188.432 336.936,171.438 334.750 C 157.452 332.951,150.327 327.451,144.814 314.200 C 140.694 304.299,138.723 279.060,140.402 257.708 C 141.450 244.371,142.571 234.595,144.221 224.400 C 145.105 218.942,145.597 216.344,146.800 210.800 C 146.967 210.030,147.403 207.960,147.768 206.200 C 148.133 204.440,148.584 202.550,148.770 202.000 C 148.955 201.450,149.293 200.280,149.521 199.400 C 149.953 197.726,150.675 195.040,151.241 193.000 C 153.706 184.113,160.110 165.183,161.583 162.432 C 161.882 161.873,163.049 161.660,168.074 161.246 C 179.447 160.310,195.639 158.303,202.281 157.006 C 203.996 156.671,206.480 156.200,207.800 155.961 C 244.785 149.243,274.729 134.517,289.500 115.780 C 292.440 112.051,298.400 101.545,298.400 100.092 C 298.400 99.880,298.741 98.828,299.158 97.753 C 303.547 86.451,303.370 70.350,298.725 58.339 C 289.216 33.751,258.730 19.442,226.400 24.393 M243.815 70.449 C 248.902 72.840,251.802 81.054,250.375 89.027 C 248.412 99.996,240.776 109.177,226.400 117.854 C 223.815 119.414,222.536 120.059,216.800 122.697 C 210.428 125.628,197.032 130.139,191.200 131.318 C 190.650 131.429,189.210 131.781,188.000 132.100 C 185.062 132.875,179.700 133.980,175.900 134.594 C 174.060 134.891,174.060 134.888,175.871 131.638 C 182.064 120.526,191.762 106.160,198.170 98.607 C 199.286 97.291,200.640 95.671,201.177 95.007 C 204.667 90.695,215.531 80.780,221.600 76.369 C 224.890 73.977,229.751 71.545,234.200 70.063 C 236.494 69.299,241.824 69.513,243.815 70.449 " stroke="none" fill="#fbfbfb" fill-rule="evenodd"></path><path id="path1" d="M0.000 200.000 L 0.000 400.000 200.000 400.000 L 400.000 400.000 400.000 200.000 L 400.000 0.000 200.000 0.000 L 0.000 0.000 0.000 200.000 M248.136 24.200 C 275.649 27.250,293.667 40.788,300.575 63.600 C 303.318 72.657,302.650 88.761,299.158 97.753 C 298.741 98.828,298.400 99.880,298.400 100.092 C 298.400 101.545,292.440 112.051,289.500 115.780 C 274.729 134.517,244.785 149.243,207.800 155.961 C 206.480 156.200,203.996 156.671,202.281 157.006 C 195.639 158.303,179.447 160.310,168.074 161.246 C 163.049 161.660,161.882 161.873,161.583 162.432 C 160.110 165.183,153.706 184.113,151.241 193.000 C 150.675 195.040,149.953 197.726,149.521 199.400 C 149.293 200.280,148.955 201.450,148.770 202.000 C 148.584 202.550,148.133 204.440,147.768 206.200 C 147.403 207.960,146.967 210.030,146.800 210.800 C 145.597 216.344,145.105 218.942,144.221 224.400 C 142.571 234.595,141.450 244.371,140.402 257.708 C 138.723 279.060,140.694 304.299,144.814 314.200 C 150.327 327.451,157.452 332.951,171.438 334.750 C 188.432 336.936,201.011 318.639,199.866 293.400 C 199.301 280.922,196.823 275.134,187.199 263.800 C 184.957 261.160,182.285 258.015,181.261 256.812 C 180.238 255.608,178.065 253.115,176.434 251.271 L 173.469 247.919 174.367 245.060 C 178.559 231.720,184.828 221.513,195.175 211.181 C 215.903 190.485,237.350 206.378,246.047 248.881 C 246.286 250.046,246.621 251.630,246.792 252.400 C 246.963 253.170,247.400 255.240,247.763 257.000 C 248.779 261.931,251.160 271.727,251.992 274.400 C 252.163 274.950,252.707 276.750,253.200 278.400 C 256.554 289.614,261.951 298.930,266.412 301.206 C 275.732 305.961,284.659 302.610,294.670 290.600 C 298.619 285.863,299.540 284.607,305.379 276.000 C 312.978 264.798,314.614 263.200,318.486 263.200 C 325.809 263.200,333.386 278.250,331.559 289.167 C 328.439 307.815,313.204 329.386,298.000 336.682 C 284.611 343.107,260.304 341.149,246.323 332.520 C 245.039 331.727,243.922 331.151,243.841 331.239 C 243.761 331.328,242.892 333.022,241.910 335.005 C 232.592 353.820,215.615 367.812,195.800 373.008 C 179.821 377.197,157.031 378.006,140.600 374.967 C 129.443 372.903,119.358 369.392,110.829 364.601 C 91.208 353.583,79.560 338.649,74.013 317.400 C 73.180 314.209,72.951 312.927,71.727 304.600 C 70.564 296.694,70.908 275.137,72.419 261.200 C 74.441 242.556,79.598 216.937,84.014 203.600 C 84.196 203.050,84.743 201.250,85.228 199.600 C 87.140 193.104,90.939 182.196,93.942 174.580 C 95.074 171.709,96.000 169.238,96.000 169.090 C 96.000 168.942,96.540 167.641,97.200 166.200 C 97.860 164.759,98.400 163.493,98.400 163.386 C 98.400 163.279,98.781 162.338,99.247 161.296 C 99.712 160.253,100.323 158.860,100.604 158.200 C 100.886 157.540,101.516 156.109,102.005 155.019 C 103.177 152.406,103.411 152.620,94.552 148.230 C 76.783 139.426,68.777 131.668,68.758 123.234 C 68.746 117.753,70.044 116.396,75.286 116.407 C 80.539 116.419,86.446 117.645,93.800 120.251 C 102.513 123.339,114.713 126.685,115.739 126.269 C 115.992 126.166,116.647 125.208,117.193 124.141 C 117.739 123.073,119.044 120.701,120.093 118.868 C 121.142 117.036,122.000 115.477,122.000 115.404 C 122.000 115.116,127.939 105.444,132.073 99.000 C 142.667 82.485,154.731 67.695,166.604 56.663 C 169.246 54.209,172.194 51.570,173.154 50.800 C 174.114 50.030,175.622 48.808,176.505 48.086 C 199.075 29.608,223.488 21.467,248.136 24.200 M234.200 70.063 C 229.751 71.545,224.890 73.977,221.600 76.369 C 215.531 80.780,204.667 90.695,201.177 95.007 C 200.640 95.671,199.286 97.291,198.170 98.607 C 191.762 106.160,182.064 120.526,175.871 131.638 C 174.060 134.888,174.060 134.891,175.900 134.594 C 179.700 133.980,185.062 132.875,188.000 132.100 C 189.210 131.781,190.650 131.429,191.200 131.318 C 197.032 130.139,210.428 125.628,216.800 122.697 C 222.536 120.059,223.815 119.414,226.400 117.854 C 246.371 105.801,254.559 90.907,249.117 76.534 C 246.954 70.822,240.425 67.990,234.200 70.063 " stroke="none" fill="#045c94" fill-rule="evenodd"></path></g></svg></a><ul class="HeaderNav__StyledHeaderNav-wnyhma-0 gTOYVM"><li><a title="Tags" href="/tags">Tags</a></li></ul></div><div class="blog-post__StyledBlog-sc-1g2ojw6-0 gKoJoW"><h1><a href="#" alt="{post.frontmatter.title}">phoenix/elixir - concurrency actor model with &#x27;let it crash&#x27; philosophy</a></h1><p class="blog-post__StyleBlogSubHeading-sc-1g2ojw6-1 hwfDng">concurrent and/or parallel processing model</p><p class="blog-post__StyleBlogDate-sc-1g2ojw6-2 cpqDRv">January 04, 2019</p><div><p>A concurrent program has multiple logical threads of control. These threads may or may not run in parallel. A parallel program potentially runs more quickly than a sequential program by executing different parts of the computation simultaneously (in parallel). It may or may not have more than one logical thread of control. An alternative way of thinking about this is that concurrency is an aspect of the problem domain—your program needs to handle multiple simultaneous (or near-simultaneous) events. Parallelism, by contrast, is an aspect of the solution domain—you want to make your program faster by processing different portions of the problem in parallel.</p>
<p>Functional programming avoids the problems associated with a shared mutable state by avoiding mutable state. Actor programming, by contrast, retains mutable state but avoids sharing it. An actor is like an object in an object-oriented (OO) program—it encapsulates state and communicates with other actors by exchanging messages. The difference is that actors run concurrently with each other and, unlike OO-style message passing (which is really just calling a method), actors really communicate by sending messages to each other.</p>
<p>Certainly, there are some concurrent programs that will always be non-deterministic. And this is unavoidable—some problems require solutions that are intrinsically dependent on the details of timing. But it’s not the case that all parallel programs are necessarily non-deterministic. The value of the sum of the numbers between 0 and 10,000 won’t change just because we add those numbers together in parallel instead of sequentially</p>
<p>Microsoft <a href="https://dotnet.github.io/orleans/">Orleans</a> is .net implementation of Actor Model but we will focus on programming language which was built with a focus on concurrent execution. Elixir/Erlang: Erlang is a programming language used to build massively scalable soft real-time systems with requirements on high availability. Some of its uses are in telecoms, banking, e-commerce, computer telephony and instant messaging. Erlang’s runtime system has built-in support for concurrency, distribution and fault tolerance.
OTP is a set of Erlang libraries and design principles providing middle-ware to develop these systems. It includes its own distributed database, applications to interface towards other languages, debugging and release handling tools. Erlang runs on VM called BEAM which is essentially a <a href="https://en.wikipedia.org/wiki/Virtual_machine">process virtual machine</a></p>
<blockquote>
<p>In Erlang, and therefore Elixir, an actor is called a process. In most environments, a process is a heavyweight entity that consumes lots of resources and is expensive to create. An Elixir process, by contrast, is very lightweight—lighter weight even than most systems’ threads, both in terms of resource consumption and startup cost. Elixir programs typically create thousands of processes without problems and don’t normally need to resort to the equivalent of thread pools</p>
</blockquote>
<p><strong>Elixir actor by example</strong>  </p>
<p>Elixir actors communicate via message passing using mailboxes, which are queues by data structure. For our example, we will create a md5 hash generator which based on a string return a md5 value of a string. If the value is already exiting it will not recompute to save CPU resource but send it from in-memory cache.</p>
<p><code class="language-text">defmodule HashIt do</code><br>
   <code class="language-text">def loop do</code><br>
       <code class="language-text">receive do</code><br>
           <code class="language-text">{:compute, value} -&gt; IO.puts(&quot;#{value}&quot;)</code> will replace #{value} with computed hash function<br>
       <code class="language-text">end</code><br>
       <code class="language-text">loop</code><br>
   <code class="language-text">end</code><br>
<code class="language-text">end</code><br>
<code class="language-text">----------</code><br>
<code class="language-text">pid = spawn(&amp;HashIt.loop/0)</code><br>
<code class="language-text">send(pid, {:compute, &quot;bipin&quot;})</code><br>
<code class="language-text">sleep(1000)</code>  </p>
<p>This function implements an infinite loop by calling itself recursively. The receive block waits for a message and then uses pattern matching to work out how to handle it.  Elixir implements tail-call elimination. Tail-call elimination, as its name suggests, replaces a recursive call with a simple jump if the last thing the function does is call itself, thus infinite recursive call o loop function will not result in stack overflow.</p>
<p><code class="language-text">defmodule HashIt do</code><br>
   <code class="language-text">def loop do</code><br>
       <code class="language-text">receive do</code><br>
           <code class="language-text">{:compute, value} -&gt; IO.puts(:crypto.hash(:md5, value) |&gt; Base.encode16())</code><br>
           <code class="language-text">{:shutdown} -&gt;  -&gt; exit(:normal)</code><br>
       <code class="language-text">end</code><br>
       <code class="language-text">loop</code><br>
   <code class="language-text">end</code><br>
<code class="language-text">end</code><br>
<code class="language-text">----------</code><br>
<code class="language-text">receive do</code><br>
   <code class="language-text">{:EXIT, ^pid, reason} -&gt; IO.puts(&quot;HasIt has exited (#{reason})&quot;)</code><br>
<code class="language-text">end</code></p>
<p><code class="language-text">Process.flag(:trap_exit, true)</code><br>
<code class="language-text">pid = spawn_link(&amp;HashIt.loop/0)</code><br>
<code class="language-text">send(pid, {:compute, &quot;bipin&quot;})</code><br>
<code class="language-text">send(pid, {:shutdown}</code>  </p>
<p><strong>Adding state to the actor</strong>  </p>
<p>We will add a variable to store all values sent and their computed hash</p>
<p><code class="language-text">defmodule HashIt do</code><br>
   <code class="language-text">def loop(strg) do</code><br>
       <code class="language-text">receive do</code><br>
           <code class="language-text">{:compute, value} -&gt;</code><br>
               <code class="language-text">hashValue = :crypto.hash(:md5 , value) |&gt; Base.encode16()</code><br>
               <code class="language-text">updatedStrg = strg.put(strg, value, hashValue)</code><br>
               <code class="language-text">IO.puts(hashValue)</code><br>
               <code class="language-text">loop(updatedStrg)</code><br>
       <code class="language-text">end</code><br>
       <code class="language-text">loop</code><br>
   <code class="language-text">end</code><br>
<code class="language-text">end</code>  </p>
<p>Here Strg is an elixir Map and we can start the process by using  </p>
<p><code class="language-text">pid = spawn(HashIt, :loop, [%{}])</code>  </p>
<p>or we can define methods to start, compute also provide it a name instead of using pid by registering it.  </p>
<p><code class="language-text">defmodule HashIt do</code><br>
   <code class="language-text">def start(name, strg, cryptoType) do</code><br>
       <code class="language-text">pid = spawn(__MODULE__, :loop, [strg, cryptoType])</code><br>
       <code class="language-text">Process.register(pid, name)</code><br>
       <code class="language-text">pid</code><br>
   <code class="language-text">end</code><br>
   <code class="language-text">def compute(name, value) do</code><br>
       <code class="language-text">ref = make_ref()</code><br>
       <code class="language-text">send(name, {:compute, value, self(), ref})</code><br>
       <code class="language-text">receive do</code><br>
           <code class="language-text">{:ok, ^ref, reply} -&gt; reply</code><br>
       <code class="language-text">end</code><br>
   <code class="language-text">end</code><br>
   <code class="language-text">def loop(strg, cryptoType) do</code><br>
       <code class="language-text">receive do</code><br>
           <code class="language-text">{:compute, value, sender, ref} -&gt;</code><br>
               <code class="language-text">hashValue = :crypto.hash(cryptoType , value) |&gt; Base.encode16()</code><br>
               <code class="language-text">updatedStrg = Map.put_new(strg, value, hashValue)</code><br>
               <code class="language-text">send(sender, {:ok, ref, hashValue})</code><br>
               <code class="language-text">loop(updatedStrg, cryptoType)</code><br>
       <code class="language-text">end</code><br>
       <code class="language-text">loop</code><br>
   <code class="language-text">end</code><br>
<code class="language-text">end</code>  </p>
<p>The program can be started via start method and uses pseudo-variable <strong>MODULE</strong>, which evaluates to the name of the current module. The Process.register registers the pid as name :hashit. Moreover, instead of printing the hash value it now returns it to the sender, which helps in bi-directional communication. The carot ^ symbol in {:ok, ^ref, reply} denotes we want to match the value rather than binding it. The <a href="https://elixir-lang.org/getting-started/pattern-matching.html">pattern matching</a> in elixir is used to match inside a data structure. Effectively we can now execute the HashIt module via</p>
<p><code class="language-text">:hashItMD5 |&gt; HashIt.start([%{}, :md5])</code><br>
<code class="language-text">:hashItMD5 |&gt; HashIt.compute(&quot;bipin&quot;)</code></p>
<p><strong>Adding check and compute logic</strong>  </p>
<p>Adding the return value to check in the cache before recomputing above module can be refactored as</p>
<p><code class="language-text">defmodule HashIt do</code><br>
   <code class="language-text">def start(name, strg, cryptoType) do</code><br>
       <code class="language-text">pid = spawn(__MODULE__, :loop, [strg, cryptoType])</code><br>
       <code class="language-text">Process.register(pid, name)</code><br>
       <code class="language-text">pid</code><br>
   <code class="language-text">end</code><br>
   <code class="language-text">def compute(name, value) do</code><br>
       <code class="language-text">ref = make_ref()</code><br>
       <code class="language-text">send(name, {:compute, value, self(), ref})</code><br>
       <code class="language-text">receive do</code><br>
           <code class="language-text">{:ok, ^ref, reply} -&gt; reply</code><br>
       <code class="language-text">end</code><br>
   <code class="language-text">end</code><br>
   <code class="language-text">def loop(strg, cryptoType) do</code><br>
       <code class="language-text">receive do</code><br>
           <code class="language-text">{:compute, value, sender, ref} -&gt;</code><br>
               <code class="language-text">result = Map.fetch(strg, value)</code><br>
               <code class="language-text">case result do</code><br>
                   <code class="language-text">{:ok, val} -&gt; send(sender, {:ok, ref, val})</code><br>
                        <code class="language-text">loop(strg, cryptoType)</code><br>
                   <code class="language-text">{:error, _reason} -&gt;</code><br>
                        <code class="language-text">hashValue = :crypto.hash(cryptoType , value) |&gt; Base.encode16()</code><br>
                        <code class="language-text">updatedStrg = Map.put_new(strg, value, hashValue)</code><br>
                        <code class="language-text">send(sender, {:ok, ref, hashValue})</code><br>
                        <code class="language-text">loop(updatedStrg, cryptoType)</code><br>
               <code class="language-text">end</code><br>
       <code class="language-text">end</code><br>
       <code class="language-text">loop</code><br>
   <code class="language-text">end</code><br>
<code class="language-text">end</code>  </p>
<p><strong>Making it fault tolerant</strong>  </p>
<p>Thus various processes can be started in parallel for different crypto compute example MD5, SHA128, SHA256. Using the above process mechanism we can create multiple processes for different or same task resulting in both concurrent and parallel deterministic outputs. But this architecture does not provide fault tolerance. What if there is an error and it is aborted abruptly? Elixir provides a mechanism to link it to a process which is bi-directional.  </p>
<p><code class="language-text">:hashItMD5 |&gt; HashIt.start([%{}, :md5])</code><br>
<code class="language-text">:hashItSHA256 |&gt; HashIt.start([%{}, :sha256])</code><br>
<code class="language-text">:hashItMD5 |&gt; Process.link(:hashItSHA256)</code><br>
<code class="language-text">:hashItMD5 |&gt; exit(:forced_kill)</code>  </p>
<p>Since we are using spawn in our hash, We can also use spawn_link method to link process instead of process.link(). Please note links created are bi directional. and calling abnormal exit on :hashItMD5 will also set :hashItSHA256 to nil  </p>
<p><code class="language-text">Process.info(:hashItMD5, :status)</code><br>
<small>nil</small><br>
<code class="language-text">Process.info(:hashItSHA256, :status)</code><br>
<small>nil</small>  </p>
<p>but normal exit will keep the linked process active, viz:<br>
<code class="language-text">:hashItMD5 |&gt; exit(:normal)</code><br>
<code class="language-text">Process.info(:hashItMD5, :status)</code><br>
<small>nil</small><br>
<code class="language-text">Process.info(:hashItSHA256, :status)</code><br>
<small>{:status, :waiting}</small>  </p>
<p>This implies we can set the system trap to capture other processes exit, when can be utilized to create supervisor and restart the system if the process crashes. We can set Process.flag(:trap_exit, true) to capture the exit of linked process and take appropriate action. In our example of HashIt, a supervisor can be created as:  </p>
<p><code class="language-text">defmodule HashItSupervisor do</code><br>
   <code class="language-text">def start do</code><br>
       <code class="language-text">spawn(__MODULE__, :loop_system,[])</code><br>
   <code class="language-text">end</code><br>
   <code class="language-text">def loop_system do</code><br>
       <code class="language-text">Process.flag(:trap_exit, true)</code><br>
       <code class="language-text">loop</code><br>
   <code class="language-text">end</code><br>
   <code class="language-text">def loop do</code><br>
       <code class="language-text">pid = HashIt.start(%{}, :md5)</code> // instead of using spawn please change it to spawn_link in HashIt module<br>
       <code class="language-text">receive do</code><br>
           <code class="language-text">{:EXIT, ^pid, :normal} -&gt; IO.puts(&quot;Hash It exited normally&quot;)</code><br>
               <code class="language-text">:ok</code><br>
           <code class="language-text">{:EXIT, ^pid, reason} -&gt; IO.puts(&quot;Hash It failed with reason #{inspect reason}...restarting&quot;)</code><br>
               <code class="language-text">loop</code><br>
       <code class="language-text">end</code><br>
   <code class="language-text">end</code><br>
<code class="language-text">end</code><br>
<code class="language-text">----------</code><br>
<code class="language-text">HashItSupervisor.start</code>  </p>
<p>If the HashIt system now crashes it is captured by HashItSupervisor and is restarted. If the two processes are dependent on each other and can result in deadlock or infinite waiting because of crashing of sender the receiver can be guarded using timeout clause in receive do loop by using after clause. example:</p>
<p><code class="language-text">receive do</code><br>
   <code class="language-text">{:ok, ^ref, value} -&gt; IO.puts(value)</code><br>
   <code class="language-text">after 1000 -&gt; nil</code><br>
<code class="language-text">end</code>  </p>
<p><strong>Scaling to multiple nodes/computers</strong>  </p>
<p>The actor programming naturally supports an approach to writing fault-tolerant code that leverages this observation: the error-kernel pattern. In the elixir system, the kernel is the root supervisor which can start other supervisors or workers. When we create an elixir virtual machine we create a node we can create nodes multiple nodes on the same system or on network of computer by naming them using —name or —sname option. To make multiple nodes part of the same cluster it must use same —cookie name argument. This results in running your system across multiple systems. To multiple connect nodes we can use connect function</p>
<p><code class="language-text">iex(node1@192.168.0.10)1&gt; Node.self</code><br>
<small>:“node1@192.168.0.10”</small><br>
<code class="language-text">iex(node1@192.168.0.10)2&gt; Node.list</code><br>
<small>[]</small><br>
<code class="language-text">iex(node1@192.168.0.10)3&gt; Node.connect(:&quot;node2@192.168.0.20&quot;)</code><br>
<small>true</small><br>
<code class="language-text">iex(node1@192.168.0.10)4&gt; Node.list</code><br>
<small>[:“node2@192.168.0.20”]</small>  </p>
<p>Now use Node.Spwan to start worker or supervisors and use :global.register_name() instead of Process.register() to make names cluster global. </p>
<p><strong>Important notes</strong>  </p>
<p>For this explanatory purpose, we used dynamic atom naming above. However, naming dynamic processes with atoms is a terrible idea! If we use atoms, we would need to convert the name (often received from an external client) to atoms, and we should never convert user input to atoms. This is because atoms are not garbage collected. Once an atom is created, it is never reclaimed. Generating atoms from user input would mean the user can inject enough different names to exhaust our system memory!  </p>
<p>In practice, it is more likely you will reach the Erlang VM limit for the maximum number of atoms before you run out of memory, which will bring your system down regardless. Moreover, supervisor model used above can result in inconsistent naming convention across various modules and libraries. Thus elixir provides a standard protocol for defining, starting and maintaining workers using efficient bucketed methodology using <a href="https://elixir-lang.org/getting-started/mix-otp/genserver.html">GenServer</a>, providing standard call, cast and info method implementation for various operation.</p></div><p><a href="/categories/technology" alt="technology">technology</a></p><div id="disqus_thread"></div><hr/><ul class="navigator"><li><a rel="prev" href="/2018-10-20-asymtotic-notations/">← <!-- -->ELI5 - Asymptotic computational complexity simplified</a></li><li><a rel="next" href="/2019-01-28-microservices-design-pattern/">9 laws of architecting microservices<!-- --> →</a></li></ul></div><div class="Footer__StyledFooter-sc-1xqajj9-0 gwifdm">powered by | <a href="https://reactjs.org/" alt="react">react</a> | <a href="https://www.gatsbyjs.org/">gatsby</a> | <a href="https://github.com/">github</a></div></div></div><script>
  window.excludeGAPaths=[/^(?:\/preview\/(?:(?!(?:\/|^)\.).)*?)$/,/^(?:\/do\-not\-track\/me\/too\/)$/];
  function gaOptout(){document.cookie=disableStr+'=true; expires=Thu, 31 Dec 2099 23:59:59 UTC;path=/',window[disableStr]=!0}var gaProperty='UA-132358148-1',disableStr='ga-disable-'+gaProperty;document.cookie.indexOf(disableStr+'=true')>-1&&(window[disableStr]=!0);
  if(true) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'UA-132358148-1', 'auto', {});
      ga('set', 'anonymizeIp', true);
      
      
      }
      </script><script id="gatsby-script-loader">/*<![CDATA[*/window.page={"componentChunkName":"component---src-templates-blog-post-js","jsonName":"2019-01-04-elixir-concurrency-models-03a","path":"/2019-01-04-elixir-concurrency-models/"};window.dataPath="956/path---2019-01-04-elixir-concurrency-models-03-a-8e4-nkTVWZIdBqpFi7twprL7ZLh0QGo";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-1e10a623b68495fd4d6a.js"],"component---node-modules-gatsby-plugin-offline-app-shell-js":["/component---node-modules-gatsby-plugin-offline-app-shell-js-4bdd77720b900ef62e34.js"],"component---src-templates-blog-post-js":["/component---src-templates-blog-post-js-94cd070032cc60a4bb40.js"],"component---src-templates-blog-tags-js":["/component---src-templates-blog-tags-js-f09a47f8bbadc9392031.js"],"component---src-templates-blog-categories-js":["/component---src-templates-blog-categories-js-6b12e46f65e16132fb4b.js"],"component---src-pages-404-js":["/component---src-pages-404-js-989831b7db5d4cebab15.js"],"component---src-pages-index-js":["/component---src-pages-index-js-7ec90bd22eee33315aaa.js"],"component---src-pages-tags-js":["/component---src-pages-tags-js-e2eb72b4a74c86453c58.js"]};/*]]>*/</script><script src="/component---src-templates-blog-post-js-94cd070032cc60a4bb40.js" async=""></script><script src="/0-899b13e0b68fbba7a857.js" async=""></script><script src="/app-1e10a623b68495fd4d6a.js" async=""></script><script src="/webpack-runtime-423657ad8733370bcab9.js" async=""></script></body></html>